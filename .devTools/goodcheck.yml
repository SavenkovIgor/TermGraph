rules:
  - id: cmake.methodSpace
    message: Must be space between method name and bracket
    glob:
      - "CMakeLists.txt"
      - "**/**/CMakeLists.txt"
    pattern:
      - /^\s*[a-z_]+\(/

  - id: cmake.license
    message: Invalid license. Check rule or copy from valid file
    glob:
      - "CMakeLists.txt"
      - "**/**/CMakeLists.txt"
    not:
      pattern:
        literal: |
          #  TermGraph, build graph of knowledge.
          #  Copyright © 2016-2020. Savenkov Igor. All rights reserved
          #  Contacts: dev.savenkovigor@protonmail.com
          #
          #  This file is part of TermGraph.
          #
          #  TermGraph is free software: you can redistribute it and/or modify
          #  it under the terms of the GNU General Public License as published by
          #  the Free Software Foundation, either version 3 of the License, or
          #  (at your option) any later version.
          #
          #  TermGraph is distributed in the hope that it will be useful,
          #  but WITHOUT ANY WARRANTY; without even the implied warranty of
          #  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
          #  GNU General Public License for more details.
          #
          #  You should have received a copy of the GNU General Public License
          #  along with TermGraph. If not, see <https://www.gnu.org/licenses/>.

  - id: cmake.licenseStart
    message: File must start from license comment
    glob:
      - "CMakeLists.txt"
      - "**/**/CMakeLists.txt"
    not:
      pattern:
        - /\A#.*(License).*/m

  - id: cpp.qdebugInclude
    message: Remove QDebug
    glob:
      - "source/**/**.h"
      - "source/**/**.cpp"
    pattern:
      - /#include <QDebug>/

  - id: cpp.qdebug
    message: Remove qDebug or replace with qInfo, qWarning, qCritical or qFatal
    glob:
      - "source/**/**.h"
      - "source/**/**.cpp"
    pattern:
      - /qDebug\(\)/

  - id: cpp.includeAbsolutePath
    message: All includes must start from project root
    glob:
      - "source/**/**.h"
      - "source/**/**.cpp"
    pattern:
      - /#include "(?!source)/

  - id: cpp.qml.license
    message: Invalid license. Check rule or copy from valid file
    glob:
      - "source/**/**.h"
      - "source/**/**.cpp"
      - "tests/**/**.h"
      - "tests/**/**.cpp"
      - "qml/**/**.qml"
    not:
      pattern:
        literal: |
          /*
           *  TermGraph, build graph of knowledge.
           *  Copyright © 2016-2020. Savenkov Igor. All rights reserved
           *  Contacts: dev.savenkovigor@protonmail.com
           *
           *  This file is part of TermGraph.
           *
           *  TermGraph is free software: you can redistribute it and/or modify
           *  it under the terms of the GNU General Public License as published by
           *  the Free Software Foundation, either version 3 of the License, or
           *  (at your option) any later version.
           *
           *  TermGraph is distributed in the hope that it will be useful,
           *  but WITHOUT ANY WARRANTY; without even the implied warranty of
           *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
           *  GNU General Public License for more details.
           *
           *  You should have received a copy of the GNU General Public License
           *  along with TermGraph. If not, see <https://www.gnu.org/licenses/>.
           */

  - id: cpp.qml.licenseStart
    message: File must start from license comment
    glob:
      - "source/**/**.h"
      - "source/**/**.cpp"
      - "tests/**/**.h"
      - "tests/**/**.cpp"
      - "qml/**/**.qml"
    not:
      pattern:
        - /\A/\*.*(License).*\*//m

  - id: cpp.pragmaonce
    message: You must use pragma once in headers
    glob:
      - "source/**/**.h"
    not:
     pattern:
       - /#pragma once/
